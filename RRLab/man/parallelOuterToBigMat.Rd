% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/parallelOuterToBigMat.R
\name{parallelOuterToBigMat}
\alias{parallelOuterToBigMat}
\title{parallelOuterToBigMat}
\usage{
parallelOuterToBigMat(x, bigmat)
}
\arguments{
\item{x}{Numeric vector. Typically a flattened matrix.}

\item{bigmat}{A `bigmemory::big.matrix` object used to store the
interaction matrix on disk.}
}
\value{
Invisibly returns `bigmat` with updated contents.
}
\description{
Compute all pairwise elementwise products of the numeric vector `x`
and write the interaction matrix directly to a file-backed
`big.matrix`. The heavy lifting is performed in parallel using
`RcppParallel`, allowing large interaction matrices to be generated
without exhausting RAM.
}
\details{
This function requires the `bigmemory` and `RcppParallel` packages.
The outer product is computed in parallel and streamed directly to
the file-backed matrix so vectors larger than memory can be processed.
}
\examples{
x <- rnorm(4)
bf <- tempfile(fileext = ".bin")
df <- tempfile(fileext = ".desc")
bm <- bigmemory::filebacked.big.matrix(
  nrow = length(x), ncol = length(x),
  type = "double",
  backingfile = basename(bf),
  descriptorfile = basename(df),
  backingpath = dirname(bf)
)
parallelOuterToBigMat(x, bm)
bm[, ]
all.equal(bm[, ], outer(x, x))
}
